(function(a){"use strict";function b(a,b,e){function g(b){sigma.misc.animation.camera(a.camera,{x:a.camera.x+(b.x||0),y:a.camera.y+(b.y||0),ratio:a.camera.ratio*(b.ratio||1)},{duration:b.duration})}function h(){g({x:-e.displacement,duration:e.duration})}function i(){g({y:-e.displacement,duration:e.duration})}function j(){g({x:e.displacement,duration:e.duration})}function k(){g({y:e.displacement,duration:e.duration})}function l(){g({ratio:1/e.zoomingRatio,duration:e.duration})}function m(){g({ratio:e.zoomingRatio,duration:e.duration})}e=sigma.utils.extend(e,d),e.zoomingRatio=e.zoomingRatio||a.settings("zoomingRatio"),e.duration=e.duration||a.settings("mouseZoomDuration"),this.domElt=b.container;var n=this;sigma.classes.dispatcher.extend(this),this.keyDown=function(a){9===a.which||18===a.which||20===a.which||f[a.which]||(f[a.which]=!0,c=Object.keys(f).join("+"),n.dispatchEvent(c))},this.keyUp=function(a){delete f[a.which],c=null},this.focus=function(a){return n.domElt.focus(),!0},this.blur=function(a){return n.domElt.blur(),!0},this.domElt.tabIndex=e.tabIndex,this.domElt.focus(),this.domElt.addEventListener("mouseover",this.focus,!1),this.domElt.addEventListener("mouseout",this.blur,!1),this.domElt.addEventListener("keydown",this.keyDown,!1),this.domElt.addEventListener("keyup",this.keyUp,!1),this.bind("37 18+37",h),this.bind("38 18+38",i),this.bind("39 18+39",j),this.bind("40 18+40",k),this.bind("32+38 18+32+38",l),this.bind("32+40 18+32+40",m)}if("undefined"==typeof sigma)throw"sigma.plugins.keyboard: sigma is not declared";sigma.utils.pkg("sigma.plugins");var c,d={displacement:100,duration:200,zoomingRatio:1.7,tabIndex:-1},e={},f=[];sigma.plugins.keyboard=function(a,c,d){return e[a.id]||(e[a.id]=new b(a,c,d),a.bind("kill",function(){sigma.plugins.killKeyboard(a)})),e[a.id]},sigma.plugins.killKeyboard=function(a){e[a.id]instanceof b&&(e[a.id].unbind(),e[a.id].domElt.removeEventListener("mouseover",e[a.id].focus,!1),e[a.id].domElt.removeEventListener("mouseout",e[a.id].blur,!1),e[a.id].domElt.removeEventListener("keydown",e[a.id].keyDown,!1),e[a.id].domElt.removeEventListener("keyup",e[a.id].keyUp,!1),delete e[a.id])}}).call(this);
//# sourceMappingURL=sigma.plugins.keyboard.min.js.map