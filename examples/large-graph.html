<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <script src="../js/linkurious-v1.0.7/sigma.min.js"></script>
</head>
<body>
<div id="container">
    <style>
        #graph-container {
            top: 0;
            bottom: 0;
            left: 0;
            right: 0;
            position: absolute;
        }
    </style>
    <div id="graph-container"></div>
</div>
<script>
    var i,
        clusterCenterArray = [],
        clusterCenters = 20,
        N = 20,
        E = 20,
        g = {
            nodes: [],
            edges: []
        };
    // Generate a random graph:
    for (i = 0; i < N * clusterCenters; i = i + N) {
        g.nodes.push({
            id: 'n' + i,
            label: 'Node ' + i,
            x: Math.random() * 100,
            y: Math.random() * 100,
            size: Math.random(),
            color: '#f55564'
        });

        clusterCenterArray.push(g.nodes[i]);

        for (var j =  i + 1 ; j < i + N ; j++){
            g.nodes.push({
                id: 'n' + j,
                label: 'Node ' + j,
                x: (Math.floor(Math.random()*2) == 1 ? 1 : -1) * Math.random() * 5 + g.nodes[i].x,
                y: (Math.floor(Math.random()*2) == 1 ? 1 : -1) * Math.random() * 5 + g.nodes[i].y,
                size: Math.random(),
                color: '#f55564'
            });

            g.edges.push({
                id: 'e' + ((i+1) * j),
                source: 'n' + i,
                target: 'n' + j,
                size: Math.random(),
                color: '#ccc'
            });
        }
    }

    var
        sourceIndex = 0,
        targetIndex = 0,
        lastIndex = g.edges.length + E ;


    for (i = g.edges.length + 1 ; i < lastIndex; i++){
        sourceIndex = Math.floor(Math.random() * clusterCenterArray.length);
        targetIndex = Math.floor(Math.random() * clusterCenterArray.length);

        console.log('source: ', sourceIndex, 'target:', targetIndex);
        console.log('correspondance', clusterCenterArray[sourceIndex], clusterCenterArray[targetIndex]);

        g.edges.push({
            id: 'e' + i,
            source: clusterCenterArray[sourceIndex].id,
            target: clusterCenterArray[targetIndex].id,
            size: Math.random(),
            color: '#ccc'
        });
    }

    // Instantiate sigma:
    var s = new sigma({
        graph: g,
        container: 'graph-container'
    });
</script>
</body>
</html>
